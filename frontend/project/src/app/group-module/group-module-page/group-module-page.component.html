<div class="wrapper">
  <div class="tab">
    <button class="tablinks" (click)="switchTab('group_members')">Членове</button>
    <button class="tablinks" (click)="switchTab('group_problems')">Задачи</button>
    <button *ngIf="this.is_admin" class="tablinks" (click)="switchTab('group_solutions')">Решения</button>
    <button *ngIf="this.is_admin" class="tablinks" (click)="switchTab('group_options')">Опции</button>
  </div>


  <div id="group_problems" class="tabcontent">

    <h3>Задачи:</h3>

    <table class="table table-dark" id="problems_table">
      <thead>
        <tr>
          <th class="text-center" scope="col">#</th>
          <th scope="col">Име</th>
          <th class="text-center" scope="col">Начална дата</th>
          <th class="text-center" scope="col">Крайна дата</th>
          <th class="text-center" scope="col">Отворена</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let problem of problems">
          <tr>
            <th class="text-center align-middle" scope="row">{{problem.num}}</th>
            <th class="align-middle">{{problem.title}}</th>
            <td class="text-center align-middle">{{problem.start_time}}</td>
            <td class="text-center align-middle">{{problem.end_time}}</td>
            <td class="text-center align-middle">{{problem.get_active()}}</td>
            <td class="text-center align-middle"><button *ngIf="problem.is_active"
                routerLink="/solve/{{problem.object_id}}" class="button-green solve_button align-middle">Реши</button>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>

  <div id="group_members" class="tabcontent">
    <ul id="members_list">
      <div class="user_box" *ngFor="let user of users">
        <img src="{{user.picture}}">

        <div class="user_box_text">
          <p>{{user.get_username()}}</p>
          <p>{{user.get_user_status()}}</p>
        </div>
        <div class="user_box_buttons">
          <button class="button-green solve_button">Профил</button>
        </div>
      </div>
    </ul>
  </div>



  <div id="group_options" class="tabcontent">
    <p>Group options</p>
  </div>

  <div id="group_solutions" class="tabcontent">
    <div id="options">

      <h3>Решения:</h3>

      <div class="selector" id="problem_select">
        <p for="problem_selector_box">Задача: </p>

        <select id="problem_selector_box" class="selector_box form-select bg-dark">
          <option value="any">Всички</option>
          <option *ngFor="let problem of problems" value="{{problem.object_id}}">{{problem.title}}</option>
        </select>
      </div>

      <div class="selector" id="user_select">
        <p for="user_selector_box">Потребител: </p>

        <select id="user_selector_box" class="selector_box form-select bg-dark">
          <option value="any">Всички</option>
          <option *ngFor="let user of users" value="{{user.get_user_id()}}">{{user.get_username()}}</option>
        </select>
      </div>

      <button class="button-green solve_button" (click)="get_user_solutions()">Търсeне</button>
    </div>



    <table class="table table-dark" id="problems_table">
      <thead>
        <tr>
          <th class="text-center" scope="col">#</th>
          <th scope="col">Име на задача</th>
          <th class="text-center" scope="col">Име на потребител</th>
          <th class="text-center" scope="col">Брой решения</th>
          <th class="text-center" scope="col">Оценка</th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let solution of solutions">
          <tr>
            <th class="text-center align-middle" scope="row">{{solution.num}}</th>
            <th class="align-middle">{{solution.problem_name}}</th>
            <td class="text-center align-middle">{{solution.author_name}}</td>
            <td class="text-center align-middle">{{solution.code_ids}}</td>
            <td class="text-center align-middle">{{solution.get_score()}}</td>
            <td class="text-center align-middle"><button
                routerLink="/grade_solution/{{solution.solution_id}}/{{group_id}}"
                class="button-green solve_button">Преглед</button></td>
          </tr>
        </ng-container>
      </tbody>
    </table>

  </div>



</div>